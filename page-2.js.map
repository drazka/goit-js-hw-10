{"version":3,"file":"page-2.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const datetimePicker = document.getElementById('datetime-picker');\n    const startButton = document.querySelector('button[data-start]');\n    const daysSpan = document.querySelector('[data-days]');\n    const hoursSpan = document.querySelector('[data-hours]');\n    const minutesSpan = document.querySelector('[data-minutes]');\n    const secondsSpan = document.querySelector('[data-seconds]');\n\n    let countdownInterval;\n    let userSelectedDate;\n\n    const options = {\n        enableTime: true,\n        time_24hr: true,\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            const selectedDate = selectedDates[0];\n            if (selectedDate && selectedDate > new Date()) {\n                userSelectedDate = selectedDate;\n                startButton.disabled = false;\n            } else {\n                startButton.disabled = true;\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Please choose a date in the future',\n                });\n            }\n        },\n    };\n\n    flatpickr(datetimePicker, options);\n\n    function convertMs(ms) {\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n\n        const days = Math.floor(ms / day);\n        const hours = Math.floor((ms % day) / hour);\n        const minutes = Math.floor((ms % hour) / minute);\n        const seconds = Math.floor((ms % minute) / second);\n\n        return { days, hours, minutes, seconds };\n    }\n\n    function addLeadingZero(value) {\n        return String(value).padStart(2, '0');\n    }\n\n    startButton.addEventListener('click', () => {\n        if (!userSelectedDate) {\n            iziToast.warning({\n                title: 'Warning',\n                message: 'Please choose a valid date first.',\n            });\n            return;\n        }\n\n        startButton.disabled = true;\n\n        clearInterval(countdownInterval);\n        countdownInterval = setInterval(() => {\n            const now = new Date();\n            const timeRemaining = userSelectedDate - now;\n\n            if (timeRemaining <= 0) {\n                clearInterval(countdownInterval);\n                daysSpan.textContent = '00';\n                hoursSpan.textContent = '00';\n                minutesSpan.textContent = '00';\n                secondsSpan.textContent = '00';\n                iziToast.info({\n                    title: 'Info',\n                    message: \"Time's up!\",\n                });\n                return;\n            }\n\n            const { days, hours, minutes, seconds } = convertMs(timeRemaining);\n\n            daysSpan.textContent = addLeadingZero(days);\n            hoursSpan.textContent = addLeadingZero(hours);\n            minutesSpan.textContent = addLeadingZero(minutes);\n            secondsSpan.textContent = addLeadingZero(seconds);\n        }, 1000);\n    });\n});"],"names":["datetimePicker","startButton","daysSpan","hoursSpan","minutesSpan","secondsSpan","countdownInterval","userSelectedDate","flatpickr","selectedDates","selectedDate","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","timeRemaining"],"mappings":"oFAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EACAC,EAqBJC,EAAUR,EAnBM,CACZ,WAAY,GACZ,UAAW,GACX,gBAAiB,EACjB,QAAQS,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,GAAgBA,EAAe,IAAI,MACnCH,EAAmBG,EACnBT,EAAY,SAAW,KAEvBA,EAAY,SAAW,GACvB,SAAS,MAAM,CACX,MAAO,QACP,QAAS,oCAC7B,CAAiB,EAER,CACT,CAEqC,EAEjC,SAASU,EAAUC,EAAI,CAMnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAOH,EAAK,KAAQ,GAAM,EACzCI,EAAU,KAAK,MAAOJ,EAAK,IAAU,GAAM,EAEjD,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CAED,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACvC,CAEDjB,EAAY,iBAAiB,QAAS,IAAM,CACxC,GAAI,CAACM,EAAkB,CACnB,SAAS,QAAQ,CACb,MAAO,UACP,QAAS,mCACzB,CAAa,EACD,MACH,CAEDN,EAAY,SAAW,GAEvB,cAAcK,CAAiB,EAC/BA,EAAoB,YAAY,IAAM,CAElC,MAAMa,EAAgBZ,EADV,IAAI,KAGhB,GAAIY,GAAiB,EAAG,CACpB,cAAcb,CAAiB,EAC/BJ,EAAS,YAAc,KACvBC,EAAU,YAAc,KACxBC,EAAY,YAAc,KAC1BC,EAAY,YAAc,KAC1B,SAAS,KAAK,CACV,MAAO,OACP,QAAS,YAC7B,CAAiB,EACD,MACH,CAED,KAAM,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUQ,CAAa,EAEjEjB,EAAS,YAAce,EAAeJ,CAAI,EAC1CV,EAAU,YAAcc,EAAeH,CAAK,EAC5CV,EAAY,YAAca,EAAeF,CAAO,EAChDV,EAAY,YAAcY,EAAeD,CAAO,CACnD,EAAE,GAAI,CACf,CAAK,CACL,CAAC"}